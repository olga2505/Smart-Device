"use strict";!function(){var e=document.querySelector(".page-header__call"),t=document.querySelector(".popup"),u=document.querySelector(".popup__close"),o=document.querySelector(".popup__form"),c=t.querySelector("[name=user-name]"),a=t.querySelector("[name=user-tel]"),n=t.querySelector("[name=feedback-question]"),r=t.querySelector(".popup__consent-input"),l=!0,s="",d="";try{s=localStorage.getItem("userName"),d=localStorage.getItem("userTel")}catch(e){l=!1}e.addEventListener("click",function(){t.classList.remove("popup__hidden"),s?(c.value=s,d?a.value=d:a.focus(),n.focus()):c.focus()}),o.addEventListener("submit",function(e){c.value&&a.value&&n.value&&r.checked?l&&(localStorage.setItem("userName",c.value),localStorage.setItem("userTel",a.value)):e.preventDefault()}),u.addEventListener("click",function(){t.classList.add("popup__hidden")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("popup__hidden")||t.classList.add("popup__hidden"))})}();